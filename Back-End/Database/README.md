# DataBase

## 0. Schema

<img src="../../images/database_schema.png" alt="database_schema" style="zoom:35%;" />



## 1. Initialization

```sql
 -- 계정 생성 
create user NAVER identified by 1234
default TABLESPACE mc;
-- 권한 부여
grant connect,resource,dba to MULTI;

DROP TABLE VIDEO_REPORT
DROP TABLE SCRIPT;
DROP TABLE USERS;


CREATE TABLE USERS (
	USER_ID VARCHAR2(50) PRIMARY KEY,
	PASSWORD VARCHAR2(50),
	NAME VARCHAR2(100),
	REGDATE DATE,
	ROLE VARCHAR2(10)
);
INSERT INTO USERS VALUES('admin','1234','관리자',sysdate,'admin');
INSERT INTO USERS VALUES('test','1234','유미선',sysdate,'user');

CREATE TABLE SCRIPT (
	SCRIPT_ID NUMBER PRIMARY KEY,
	USER_ID VARCHAR2(50) REFERENCES USERS (USER_ID),
	TITLE VARCHAR2 (1000),
	CONTENT VARCHAR2 (1000),
	SCRIPT VARCHAR2 (1000),
	TIME NUMBER(20),
	VOICE_PATH VARCHAR2(1000),
	REGDATE DATE
);
INSERT INTO SCRIPT VALUES(0,'admin','관리자 전용','관리자 전용 관리양식입니다.',
'This is for admin',0,'http://',sysdate);
INSERT INTO SCRIPT VALUES(1,'test','20190301 교양발표','안녕하세요 저는 테스트입니다.',
'Hi, my name is test',1000,'http://',sysdate);

CREATE TABLE VIDEO_REPORT(
	REPORT_ID NUMBER PRIMARY KEY,
	SCRIPT_ID NUMBER REFERENCES SCRIPT (SCRIPT_ID),
	RESULT VARCHAR2(1000),
	MEASUREMENT NUMBER(20),
	VIDEO_PATH VARCHAR2(1000)
);
INSERT INTO VIDEO_REPORT VALUES(1,1,'표정이 편안해지셨군요.','9','http://');

CREATE TABLE LECTURE(
	LECTURE_SEQ NUMBER PRIMARY KEY,
	LEC_TITLE VARCHAR2(1000),
	TEACHER VARCHAR2(100),
	PRICE NUMBER
);
INSERT INTO LECTURE VALUES(1,'편안하게 말하는 스피킹 베이직','타미',20);

CREATE TABLE LINK(
	LINK_ID NUMBER PRIMARY KEY,
	USER_ID VARCHAR2(50) REFERENCES USERS (USER_ID),
	LECTURE_SEQ NUMBER REFERENCES LECTURE (LECTURE_SEQ)
);
INSERT INTO LINK VALUES(1, 'test', 1);

```

